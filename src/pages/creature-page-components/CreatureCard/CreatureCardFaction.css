.creature-card {
  /* Faction tag container positioned at bottom right */
  .faction-tag-container {
    position: absolute;
    bottom: 8px;
    right: 8px;
    z-index: 10;
    .faction-tag {
      /* Use faction-specific colors from CSS variables */
      background: linear-gradient(135deg,
          var(--faction-tag-background-color),
          var(--faction-tag-background-transition-color)
      );
      border: 2px solid var(--border-color);
      border-radius: 16px;
      padding: 0.4rem 0.9rem;
      font-size: 0.75rem;
      font-weight: 700;
      text-shadow: 0 1px 3px light-dark(rgb(50 50 50 / 0.3), rgb(0 0 0 / 0.8));
      box-shadow: 0 3px 8px light-dark(rgb(50 50 50 / 0.3), rgb(0 0 0 / 0.8)),
                  0 1px 3px var(--border-color);
      backdrop-filter: blur(6px);
      margin-left: 0.5rem;
      letter-spacing: 0.5px;
      text-transform: uppercase;
   }
  }
}

.faction {
  --core-color: grey;
  --border-color: oklch(from var(--core-color) calc(l*1.1) c h);
  --background-transition-color: oklch(from var(--core-color) calc(l*.5) c h / 0.25);
  --title-bg-color: oklch(from var(--core-color) l c h / 0.55);
  --title-border-bottom-color: oklch(from var(--core-color) l c h / .7);
  --common-l-light: 50%;
  --common-l-dark: 30%;

  --faction-tag-background-color: light-dark(
    oklch(from var(--core-color) 60% c h),
    oklch(from var(--core-color) 25% c h)
  );
  --faction-tag-background-transition-color: light-dark(
    oklch(from var(--core-color) 80% c h),
    oklch(from var(--core-color) 40% c h)
  );

  &.collapsible-section .collapsible-header {
    --ch-bg-c1: oklch(from var(--title-bg-color) l c h);
    --ch-bg-c2: red;

    &:hover {
      --ch-bg-c1: oklch(from var(--title-bg-color) calc(l*1.1) c h);
      --ch-bg-c2: red;
    }
  }
}

.faction-ashborn-legion {
  --core-color: light-dark(
    oklch(var(--common-l-light) 0.16 30),
    oklch(var(--common-l-dark) 0.16 30)
  );
}
.faction-stoneveined-order {
  --core-color: light-dark(
    oklch(var(--common-l-light) 0.07555 72.645),
    oklch(var(--common-l-dark) 0.07555 72.645)
  );
}
.faction-vastfathom-league {
  --core-color: light-dark(
    oklch(var(--common-l-light) .15 273),
    oklch(var(--common-l-dark) .15 273)
  );
}
.faction-thornwraith-covenant {
  --core-color: light-dark(
    oklch(var(--common-l-light) 0.17 143),
    oklch(var(--common-l-dark) 0.17 143)
  );
}
.faction-wanderlost-crews {
  --core-color: light-dark(
    oklch(var(--common-l-light) 0.05 73),
    oklch(var(--common-l-dark) 0.05 73)
  );
  --border-color: oklch(from teal calc(l*1.05) c h);
  --title-border-bottom-color:  oklch(from teal l c h / .7);
}
.faction-zephpter-swarm {
  --core-color: light-dark(
    oklch(var(--common-l-light) 0.18 302),  
    oklch(var(--common-l-dark) 0.18 302)
  );
}
.faction-umbral-nexus {
  --core-color: light-dark(
    oklch(var(--common-l-light) 0.00003 271),  
    oklch(var(--common-l-dark) 0.00003 271)
  );
}
/* Other faction styles */
.faction-sinner {
  --core-color: light-dark(
    oklch(calc(var(--common-l-dark) / 2) 0.18 27),
    oklch(calc(var(--common-l-dark) / 2) 0.18 27)
  );
}
.faction-forgefiend-syndicate {
  --core-color: light-dark(
    oklch(calc(var(--common-l-dark) * 1.5) 0.12 62),
    oklch(calc(var(--common-l-dark) * 1.5) 0.12 62)
  );
}
.faction-hand-of-death {
  --core-color: light-dark(
    oklch(calc(var(--common-l-light) / 2) 0.003 271),
    oklch(calc(var(--common-l-dark) / 2) 0.003 271)
  );
}
.faction-heavens-host {
  --core-color: light-dark(
    oklch(calc(var(--common-l-light) * 2) 0.18 95),
    oklch(calc(var(--common-l-dark) * 2) 0.18 95)
  );
}
.faction-voidfire-conclave {
  --core-color: light-dark(
    oklab(var(--common-l-light) 0.04 -0.12),
    oklab(var(--common-l-dark) 0.04 -0.12)
  );
}
.faction-witch-coven {
  --core-color: light-dark(
    oklch(var(--common-l-light) 0.21 328),
    oklch(var(--common-l-dark) 0.21 328)
  );
}
.faction-rot-host {
  --core-color: light-dark(
    oklch(var(--common-l-light) 0.1 126),
    oklch(var(--common-l-dark) 0.1 126)
  );
}

/* Generic/No faction styling - subtle enhancement */
.faction-generic {
  --core-color: light-dark(
    oklch(var(--common-l-light) 0.00011 271),
    oklch(var(--common-l-dark) 0.00011 271)
  );
}